@page
@model Expense_Tracker.Areas.Identity.Pages.Account.AccountModel
@{
    ViewData["Title"] = "Account Information";
}

<h2>@ViewData["Title"]</h2>

<div>
    <dl class="row">
        <dt class="col-sm-3">Username:</dt>
        <dd class="col-sm-9">@ViewData["Username"]</dd>

        <dt class="col-sm-3">Email:</dt>
        <dd class="col-sm-9">@ViewData["Email"]</dd>
        <!-- Add more properties as needed -->
    </dl>
</div>

<h3 class="mt-4">Edit Username</h3>
<form method="post" enctype="multipart/form-data">
    <div class="form-group">
        <label asp-for="Input.ProfilePicture" class="d-block">Profile Picture</label>
        @if (Model.Input.ProfilePicture != null)
        {
            <img id="profilePicture" alt="profile" class="uploaded-pic" src="data:image/*;base64,@(Convert.ToBase64String(Model.Input.ProfilePicture))" />
        }
        else
        {
            <img id="profilePicture" alt="test" class="uploaded-pic" src="~/profile.jpg" />
        }
        <div class="custom-file mt-2">
            <input type="file"
                   accept="image/*"
                   asp-for="Input.ProfilePicture"
                   class="custom-file-input"
                   onchange="document.getElementById('profilePicture').src = window.URL.createObjectURL(this.files[0])" />
            <span asp-validation-for="Input.ProfilePicture" class="text-danger"></span>
        </div>
    <div class="form-group">
        <label asp-for="Input.NewUsername">New Username</label>
        <input asp-for="Input.NewUsername" class="form-control" />
        <span asp-validation-for="Input.NewUsername" class="text-danger"></span>
    </div>
    </div>

    <button type="submit" class="btn btn-primary">Save</button>
</form>

